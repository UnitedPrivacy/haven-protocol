--- monero/src/device/device_default.cpp	2019-06-20 21:03:18.742816503 +0100
+++ haven/src/device/device_default.cpp	2019-05-30 17:58:17.129592192 +0100
@@ -101,14 +100,14 @@
         /*                             WALLET & ADDRESS                            */
         /* ======================================================================= */
 
-        bool  device_default::generate_chacha_key(const cryptonote::account_keys &keys, crypto::chacha_key &key, uint64_t kdf_rounds) {
+        bool  device_default::generate_chacha_key(const cryptonote::account_keys &keys, crypto::chacha8_key &key, uint64_t kdf_rounds) {
             const crypto::secret_key &view_key = keys.m_view_secret_key;
             const crypto::secret_key &spend_key = keys.m_spend_secret_key;
             epee::mlocked<tools::scrubbed_arr<char, sizeof(view_key) + sizeof(spend_key) + 1>> data;
             memcpy(data.data(), &view_key, sizeof(view_key));
             memcpy(data.data() + sizeof(view_key), &spend_key, sizeof(spend_key));
             data[sizeof(data) - 1] = CHACHA8_KEY_TAIL;
-            crypto::generate_chacha_key(data.data(), sizeof(data), key, kdf_rounds);
+            crypto::generate_chacha8_key(data.data(), sizeof(data), key);
             return true;
         }
         bool  device_default::get_public_address(cryptonote::account_public_address &pubkey) {
